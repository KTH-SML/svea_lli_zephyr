# ── kernel & scheduling ───────────────────────────────────────────────
CONFIG_MAIN_STACK_SIZE=4096
CONFIG_NUM_PREEMPT_PRIORITIES=3
CONFIG_SYSTEM_WORKQUEUE_PRIORITY=-1
# co-op, cannot be pre-empted

# ── C/C++ / libc ──────────────────────────────────────────────────────
CONFIG_CPP=y
CONFIG_NEWLIB_LIBC=y
CONFIG_POSIX_API=y

# ── USB serial transport for micro-ROS ───────────────────────────────
CONFIG_USB_DEVICE_STACK=y
CONFIG_USB_CDC_ACM=y
CONFIG_SERIAL=y
CONFIG_UART_INTERRUPT_DRIVEN=y
CONFIG_UART_USE_RUNTIME_CONFIGURE=y
CONFIG_MICROROS=y
CONFIG_MICROROS_TRANSPORT_SERIAL=y
CONFIG_MICROROS_PUBLISHERS="10"
CONFIG_MICROROS_SUBSCRIBERS="10"

# ── PWM capture + output ─────────────────────────────────────────────
CONFIG_PWM=y
CONFIG_PWM_STM32=y
CONFIG_PWM_CAPTURE=y

# ── IMU example (optional) ───────────────────────────────────────────
CONFIG_SENSOR=y
CONFIG_I2C=y
CONFIG_ISM330DLC=y
# CONFIG_ISM330DLC_TRIGGER_GLOBAL_THREAD=y

# ── logging / debug ──────────────────────────────────────────────────
CONFIG_PRINTK=y
CONFIG_THREAD_NAME=y
CONFIG_THREAD_MONITOR=y
